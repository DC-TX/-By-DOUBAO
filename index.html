<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>æ€ªäººåä¼š - æˆå‘˜ç®¡ç†ç³»ç»Ÿ</title>
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Crect width='100%25' height='100%25' fill='%23ffffff'/%3E%3Ctext x='50%25' y='50%25' font-size='14' text-anchor='middle' alignment-baseline='central' fill='%23000'%3E%3F%3C/text%3E%3C/svg%3E" type="image/x-icon">
<style>
/* å…¨å±€æ ·å¼ï¼ˆé»‘ç™½ç®€æ´é£ï¼‰ */
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial, "Helvetica Neue", Helvetica, sans-serif}
body{background:#f9f9f9;color:#222;line-height:1.6;-webkit-font-smoothing:antialiased}
.container{width:1200px;max-width:100%;margin:0 auto;padding:0 20px}
header{background:#fff;border-bottom:1px solid #e6e6e6;padding:14px 0;position:sticky;top:0;z-index:99}
.nav{display:flex;align-items:center;justify-content:space-between}
.logo{font-weight:700;font-size:20px;text-decoration:none;color:#000}
.nav-menu{display:flex;gap:18px;align-items:center}
.nav-link{color:#333;text-decoration:none;padding:6px 8px;border-radius:6px}
.nav-link.active{font-weight:600;color:#000}
.user-info{display:flex;align-items:center;gap:12px}
.btn{padding:8px 12px;border-radius:6px;border:1px solid #000;background:#fff;cursor:pointer}
.btn-primary{background:#000;color:#fff;border-color:#000}
.page-section{background:#fff;border-radius:8px;padding:28px;margin-top:20px;box-shadow:0 2px 6px rgba(0,0,0,0.04)}
.page-title{font-size:24px;margin-bottom:12px;font-weight:700}
.dept-filter{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:18px}
.dept-filter button{padding:6px 12px;border:1px solid #000;background:#fff;border-radius:6px;cursor:pointer}
.member-cards-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px}
.member-card{border:1px solid #e6e6e6;border-radius:8px;padding:16px;position:relative;background:#fff;transition:background .12s}
.member-card:hover{background:#fbfbfb}
.avatar-small{width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0;display:inline-block;vertical-align:middle}
.avatar-small img{width:100%;height:100%;object-fit:cover;display:block}
.modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:999}
.modal .modal-content{background:#fff;padding:24px;border-radius:8px;width:420px;max-width:94%}
.form-group{margin-bottom:12px}
.form-input{width:100%;padding:10px;border:1px solid #e6e6e6;border-radius:6px}
.punishment-modal .modal-content{max-width:520px}
.small-muted{font-size:12px;color:#777}
@media(max-width:768px){.nav-menu{display:none}.container{padding:0 12px}}
</style>
</head>
<body>
<header>
  <div class="container nav">
    <a class="logo" href="#">æ€ªäººåä¼š</a>
    <nav class="nav-menu">
      <a class="nav-link" href="index.html">é¦–é¡µ</a>
      <a class="nav-link active" href="index.html#member-page">æˆå‘˜æŸ¥è¯¢</a>
      <a class="nav-link" href="forum.html">è®ºå›äº¤æµ</a>
      <a class="nav-link" href="#">ç»˜ç”»å¤§èµ›</a>
      <a class="nav-link" href="#">SXPæ”¶å®¹æ‰€</a>
    </nav>
    <div class="user-info">
      <div id="nav-profile" style="display:flex;align-items:center;gap:8px;cursor:pointer">
        <div class="avatar-small" id="nav-avatar"><img src="" alt="avatar" id="nav-avatar-img"></div>
        <div id="nav-username" class="small-muted">æœªç™»å½•</div>
      </div>
      <button id="login-btn" class="btn">ç™»å½•</button>
      <button id="register-btn" class="btn btn-primary">æ³¨å†Œ</button>
      <button id="logout-btn" class="btn" style="display:none">é€€å‡º</button>
    </div>
  </div>
</header>

<main class="container">
  <section id="member-page" class="page-section">
    <h2 class="page-title">æ€ªäººåä¼š - éƒ¨é—¨æˆå‘˜æ€»è§ˆ</h2>

    <div class="dept-filter" style="margin-bottom:18px;">
      <button class="dept-filter-btn active" data-dept="all">å…¨éƒ¨éƒ¨é—¨</button>
      <button class="dept-filter-btn" data-dept="defense">ä¼šé˜²éƒ¨</button>
      <button class="dept-filter-btn" data-dept="clearing">æ¸…ç®—éƒ¨</button>
      <button class="dept-filter-btn" data-dept="coordination">ç»Ÿç­¹éƒ¨</button>
      <button class="dept-filter-btn" data-dept="economic">ç»æµéƒ¨</button>
      <button class="dept-filter-btn" data-dept="info-sec">ä¿¡æ¯å®‰å…¨éƒ¨</button>
    </div>

    <div class="member-cards-container" id="member-cards-container"></div>

    <!-- å¤„ç½šå¼¹çª— -->
    <div class="modal punishment-modal" id="punishment-modal">
      <div class="modal-content">
        <h3 style="margin-bottom:12px">æ·»åŠ å¤„åˆ†è®°å½•</h3>
        <input type="hidden" id="target-member-id">
        <div class="form-group">
          <label class="small-muted">å¤„åˆ†ç±»å‹</label>
          <select id="punishment-type" class="form-input"><option value="current">å½“å‰å¤„åˆ†</option><option value="history">æ—¢å¾€å¤„åˆ†</option></select>
        </div>
        <div class="form-group">
          <label class="small-muted">å¤„åˆ†å†…å®¹</label>
          <textarea id="punishment-content" class="form-input" rows="4"></textarea>
        </div>
        <div style="display:flex;gap:8px;justify-content:flex-end">
          <button id="cancel-punishment" class="btn">å–æ¶ˆ</button>
          <button id="confirm-punishment" class="btn btn-primary">ç¡®è®¤</button>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- ç™»å½•æ¨¡æ€ -->
<div class="modal" id="login-modal">
  <div class="modal-content">
    <h3 style="text-align:center;margin-bottom:10px">ç”¨æˆ·ç™»å½•</h3>
    <div class="form-group"><label class="small-muted">é‚®ç®±</label><input id="login-email" class="form-input" type="email"></div>
    <div class="form-group"><label class="small-muted">å¯†ç </label><input id="login-password" class="form-input" type="password"></div>
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button id="cancel-login" class="btn">å–æ¶ˆ</button>
      <button id="submit-login" class="btn btn-primary">ç™»å½•</button>
    </div>
  </div>
</div>

<!-- æ³¨å†Œæ¨¡æ€ -->
<div class="modal" id="register-modal">
  <div class="modal-content">
    <h3 style="text-align:center;margin-bottom:10px">ç”¨æˆ·æ³¨å†Œ</h3>
    <div class="form-group"><label class="small-muted">é‚®ç®±ï¼ˆç”¨äºç™»å½•ï¼‰</label><input id="register-email" class="form-input" type="email"></div>
    <div class="form-group"><label class="small-muted">ç”¨æˆ·åï¼ˆæ˜¾ç¤ºåç§°ï¼Œå¿…å¡«ï¼‰</label><input id="register-username" class="form-input" type="text"></div>
    <div class="form-group"><label class="small-muted">å¯†ç </label><input id="register-password" class="form-input" type="password"></div>
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button id="cancel-register" class="btn">å–æ¶ˆ</button>
      <button id="submit-register" class="btn btn-primary">æ³¨å†Œ</button>
    </div>
  </div>
</div>

<!-- èµ„æ–™ç¼–è¾‘ï¼ˆå¤´åƒä¸Šä¼ ï¼‰ -->
<div class="modal" id="profile-modal">
  <div class="modal-content">
    <h3 style="text-align:center;margin-bottom:10px">ä¸ªäººèµ„æ–™</h3>
    <div class="form-group"><label class="small-muted">æ˜µç§°</label><input id="profile-nickname" class="form-input"></div>
    <div class="form-group">
      <label class="small-muted">ä¸Šä¼ å¤´åƒï¼ˆå»ºè®® 200x200ï¼‰</label>
      <input id="profile-avatar-input" type="file" accept="image/*">
      <div style="margin-top:8px"><div class="avatar-small" id="profile-avatar-preview"><img id="profile-avatar-img" src=""></div></div>
    </div>
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button id="cancel-profile" class="btn">å–æ¶ˆ</button>
      <button id="save-profile" class="btn btn-primary">ä¿å­˜</button>
    </div>
  </div>
</div>

<!-- Firebase SDK (compat) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
/* ========== è¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ Firebase é…ç½® ========== */
const firebaseConfig = {
  apiKey: "AIzaSyAzIUyu2Oj0nGgkc6h3qnS6DQkkxsBxzu8",
  authDomain: "guairenxiehui-e3d59.firebaseapp.com",
  databaseURL: "https://guairenxiehui-e3d59-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "guairenxiehui-e3d59",
  storageBucket: "guairenxiehui-e3d59.firebasestorage.app",
  messagingSenderId: "570598758945",
  appId: "1:570598758945:web:5321c2f2d7dd4a7d9fa160",
  measurementId: "G-9VNTHKZBP0"
};
/* ==================================================== */
if(!window.firebase) throw new Error('Firebase SDK æœªåŠ è½½');
if(!firebase.apps?.length) firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

/* é»˜è®¤å¤´åƒï¼ˆå†…åµŒ SVG data URIï¼Œé¿å…å¤–éƒ¨è¯·æ±‚å¯¼è‡´åŠ è½½æ…¢ï¼‰ */
const DEFAULT_AVATAR_DATAURL = 'data:image/svg+xml;utf8,' + encodeURIComponent(
  '<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect width="100%" height="100%" fill="#ffffff"/><circle cx="100" cy="70" r="40" fill="#000"/><rect x="40" y="120" width="120" height="50" rx="8" fill="#000"/></svg>'
);

/* ç®¡ç†å‘˜é‚®ç®±ï¼ˆä½ æŒ‡å®šï¼‰ */
const ADMIN_EMAIL = 'Jb14514@163.com';
const ADMIN_USERNAME = 'admin';

/* é‡‡ç”¨ä¸å†²çªé€‰æ‹©å™¨ï¼šqs / qsaï¼Œé¿å…ä¸ç¬¬ä¸‰æ–¹åº“å†²çª */
function qs(s){ return document.querySelector(s); }
function qsa(s){ return Array.from(document.querySelectorAll(s)); }

/* å…¨å±€çŠ¶æ€ */
let currentUser = null; // { uid, email, username }
let members = [];
window.users = window.users || {}; // ç¼“å­˜ users/{uid}

/* DOM ready */
document.addEventListener('DOMContentLoaded', ()=>{
  // ç»‘å®šç®€å• UI äº¤äº’ï¼ˆäº‹ä»¶ï¼‰ â€”â€” å…·ä½“å®ç°åœ¨ä¸‹ä¸€æ®µè„šæœ¬ä¸­
  bindUI(); // è¿™ä¸ªå‡½æ•°åœ¨ä¸‹ä¸€æ®µä¼šå£°æ˜
  initAuthState();
  initMembersData();
});
<script>
/* ğŸ”¥ ç™»å½•çŠ¶æ€ç›‘å¬ */
function initAuthState(){
  auth.onAuthStateChanged(async user=>{
    if(user){
      const snap = await db.ref("users/"+user.uid).once("value");
      currentUser = snap.val() || null;
      if(currentUser){
        currentUser.uid = user.uid;
        currentUser.email = user.email;
        loadAvatar();
        updateUIForLogin();
      }
    } else {
      currentUser = null;
      updateUIForLogout();
    }
    renderMembers();
  });
}

/* UI ç»‘å®š */
function bindUI(){
  qs("#login-btn").onclick = ()=> showModal("#login-modal");
  qs("#register-btn").onclick = ()=> showModal("#register-modal");
  qs("#logout-btn").onclick = logout;

  qs("#cancel-login").onclick = ()=> hideModal("#login-modal");
  qs("#cancel-register").onclick = ()=> hideModal("#register-modal");

  qs("#submit-login").onclick = login;
  qs("#submit-register").onclick = register;

  qs("#nav-profile").onclick = ()=> currentUser && showProfileModal();

  qs("#cancel-profile").onclick = ()=> hideModal("#profile-modal");
  qs("#save-profile").onclick = saveProfile;

  qsa(".dept-filter-btn").forEach(btn=>{
    btn.onclick = ()=>{
      qsa(".dept-filter-btn").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      renderMembers();
    };
  });

  qs("#cancel-punishment").onclick = ()=> hideModal("#punishment-modal");
  qs("#confirm-punishment").onclick = addPunishment;
}

/* ç™»å½• */
async function login(){
  const email = qs("#login-email").value.trim();
  const pwd = qs("#login-password").value.trim();
  if(!email||!pwd) return alert("ç¼ºå°‘è¾“å…¥");

  try{
    await auth.signInWithEmailAndPassword(email,pwd);
    hideModal("#login-modal");
  }catch(e){
    alert("ç™»å½•å¤±è´¥ï¼š"+e.message);
  }
}

/* æ³¨å†Œ */
async function register(){
  const email = qs("#register-email").value.trim();
  const username = qs("#register-username").value.trim();
  const pwd = qs("#register-password").value.trim();
  if(!email||!username||!pwd) return alert("ç¼ºå°‘è¾“å…¥");
  if(pwd.length<6) return alert("å¯†ç è‡³å°‘ 6 ä½");

  try{
    const cred = await auth.createUserWithEmailAndPassword(email,pwd);
    const role = email.toLowerCase() === ADMIN_EMAIL.toLowerCase() ? "admin":"user";
    await db.ref("users/"+cred.user.uid).set({
      email, username, role, avatar: DEFAULT_AVATAR_DATAURL
    });
    hideModal("#register-modal");
  }catch(e){
    alert("æ³¨å†Œå¤±è´¥ï¼š"+e.message);
  }
}

/* é€€å‡º */
async function logout(){
  await auth.signOut();
}
  
/* UI æ›´æ–° */
function updateUIForLogin(){
  qs("#login-btn").style.display="none";
  qs("#register-btn").style.display="none";
  qs("#logout-btn").style.display="block";

  qs("#nav-username").textContent = currentUser.username;
  qs("#nav-profile").style.display="flex";
}
function updateUIForLogout(){
  qs("#login-btn").style.display="inline-block";
  qs("#register-btn").style.display="inline-block";
  qs("#logout-btn").style.display="none";
  qs("#nav-username").textContent="æœªç™»å½•";
  qs("#nav-avatar-img").src = DEFAULT_AVATAR_DATAURL;
}

/* æ‰“å¼€ / å…³é—­ Modal */
function showModal(sel){ qs(sel).style.display="flex"; }
function hideModal(sel){ qs(sel).style.display="none"; }

/* æ‰“å¼€èµ„æ–™å¼¹çª— */
function showProfileModal(){
  qs("#profile-nickname").value = currentUser?.username || "";
  qs("#profile-avatar-img").src = currentUser?.avatar || DEFAULT_AVATAR_DATAURL;
  showModal("#profile-modal");
}

/* ä¿å­˜èµ„æ–™å«å¤´åƒ base64 */
async function saveProfile(){
  const nickname = qs("#profile-nickname").value.trim();
  const file = qs("#profile-avatar-input").files[0];
  let avatar = currentUser?.avatar || DEFAULT_AVATAR_DATAURL;

  if(file){
    avatar = await fileToBase64(file);
  }
  try{
    await db.ref("users/"+currentUser.uid).update({
      username:nickname,
      avatar
    });
    currentUser.username = nickname;
    currentUser.avatar = avatar;
    hideModal("#profile-modal");
    loadAvatar();
    alert("èµ„æ–™å·²æ›´æ–°");
  }catch(e){
    alert("ä¿å­˜å¤±è´¥ï¼š" + e.message);
  }
}

/* æ–‡ä»¶è½¬ Base64 */
function fileToBase64(file){
  return new Promise(res=>{
    const r = new FileReader();
    r.onload = ()=> res(r.result);
    r.readAsDataURL(file);
  });
}

/* åŠ è½½åˆ°å¯¼èˆªæ¡å¤´åƒ */
function loadAvatar(){
  qs("#nav-avatar-img").src = currentUser?.avatar || DEFAULT_AVATAR_DATAURL;
}

/* ========== æˆå‘˜æ•°æ®åŠ è½½ä¸æ¸²æŸ“ ========== */
function initMembersData(){
  db.ref("members").on("value",snap=>{
    members = snap.val() ? Object.values(snap.val()) : [];
    renderMembers();
  });
}

function renderMembers(){
  const cont = qs("#member-cards-container");
  if(!cont) return;
  cont.innerHTML="";

  const dept = qs(".dept-filter-btn.active").dataset.dept;
  const list = dept==="all"?members:members.filter(m=>m.dept===dept);

  if(list.length===0){
    cont.innerHTML="<div style='text-align:center;padding:40px 0;color:#888'>æš‚æ— æˆå‘˜</div>";
    return;
  }

  const admin = currentUser && currentUser.role==="admin";

  list.forEach(m=>{
    const card = document.createElement("div");
    card.className="member-card";
    card.innerHTML=`
      <div style="font-weight:700;font-size:17px">${m.name}</div>
      <div style="font-size:13px;color:#555;margin:2px 0">${m.deptName} Â· ${m.role}</div>
      <div style="color:#666;margin:6px 0">æ€§åˆ«ï¼š${m.gender}</div>
      <div style="border-top:1px solid #eee;padding-top:10px;font-size:13px">
        <div><strong>å½“å‰å¤„åˆ†ï¼š</strong><span style="color:${m.currentPunishment!=='æ— '?'#d00':'#000'}">${m.currentPunishment}</span></div>
        <div><strong>æ—¢å¾€å¤„åˆ†ï¼š</strong>${m.historyPunishment?.join('ã€') || 'æ— '}</div>
      </div>
      ${admin?`<button class="btn add-p" data-id="${m.id}" style="margin-top:8px;width:100%">æ·»åŠ å¤„åˆ†</button>`:''}
    `;
    cont.appendChild(card);
  });

  if(currentUser?.role==="admin"){
    qsa(".add-p").forEach(btn=>{
      btn.onclick=()=> showPunishment(btn.dataset.id);
    });
  }
}

/* æ·»åŠ å¤„åˆ†å¼¹çª— */
function showPunishment(id){
  qs("#target-member-id").value=id;
  showModal("#punishment-modal");
}

async function addPunishment(){
  const id = qs("#target-member-id").value;
  const type = qs("#punishment-type").value;
  const txt = qs("#punishment-content").value.trim();
  if(!txt) return alert("è¯·è¾“å…¥å†…å®¹");
  const m = members.find(x=>x.id===id);
  if(!m) return;
  const up = {...m};
  if(type==="current") up.currentPunishment = txt;
  else {
    up.historyPunishment = up.historyPunishment || [];
    if(!up.historyPunishment.includes(txt)) up.historyPunishment.push(txt);
  }
  await db.ref("members/"+id).set(up);
  hideModal("#punishment-modal");
}
/* ğŸ”¥ é»˜è®¤æˆå‘˜æ•°æ®å†™å…¥ï¼ˆé¦–æ¬¡æ— æ•°æ®è‡ªåŠ¨æ·»åŠ ï¼‰ */
async function ensureDefaultMembers(){
  const snap = await db.ref("members").once("value");
  if(snap.exists()) return;

  const def = [
    {id:"1",name:"ç‹æ²›éœ–",dept:"defense",deptName:"ä¼šé˜²éƒ¨",role:"éƒ¨é•¿",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"2",name:"ç‹æ¥šæ©",dept:"defense",deptName:"ä¼šé˜²éƒ¨",role:"æˆå‘˜",gender:"å¥³",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"3",name:"é³æµ·é€¸",dept:"defense",deptName:"ä¼šé˜²éƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "],crossDept:"æ¸…ç®—éƒ¨"},
    {id:"4",name:"æç‘¾ç¿",dept:"clearing",deptName:"æ¸…ç®—éƒ¨",role:"éƒ¨é•¿",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"5",name:"èµµé›…æ™—",dept:"clearing",deptName:"æ¸…ç®—éƒ¨",role:"æˆå‘˜",gender:"å¥³",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"6",name:"é—«å®¶æ ‹",dept:"coordination",deptName:"ç»Ÿç­¹éƒ¨",role:"éƒ¨é•¿",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"7",name:"è‚–äºšæ—­",dept:"coordination",deptName:"ç»Ÿç­¹éƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"8",name:"å®¿å®¹",dept:"coordination",deptName:"ç»Ÿç­¹éƒ¨",role:"æˆå‘˜",gender:"å¥³",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"9",name:"é™ˆé›¨çª",dept:"coordination",deptName:"ç»Ÿç­¹éƒ¨",role:"æˆå‘˜",gender:"å¥³",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"10",name:"åˆ˜è±æ¥ ",dept:"coordination",deptName:"ç»Ÿç­¹éƒ¨",role:"æˆå‘˜",gender:"å¥³",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"11",name:"å¼ èµ·å",dept:"economic",deptName:"ç»æµéƒ¨",role:"éƒ¨é•¿",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"12",name:"å¼ æ³½æ¥·",dept:"economic",deptName:"ç»æµéƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"13",name:"åˆ˜æ±ªæµ©",dept:"info-sec",deptName:"ä¿¡æ¯å®‰å…¨éƒ¨",role:"éƒ¨é•¿",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"14",name:"å´æ˜Šé¹",dept:"info-sec",deptName:"ä¿¡æ¯å®‰å…¨éƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"15",name:"å¤æµšå®¸",dept:"info-sec",deptName:"ä¿¡æ¯å®‰å…¨éƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]},
    {id:"16",name:"ä¸å˜‰ç¦¾",dept:"info-sec",deptName:"ä¿¡æ¯å®‰å…¨éƒ¨",role:"æˆå‘˜",gender:"ç”·",currentPunishment:"æ— ",historyPunishment:["æ— "]}
  ];
  const obj = {};
  def.forEach(x=>obj[x.id]=x);
  await db.ref("members").set(obj);
}

/* é¡µé¢åˆå§‹åŒ– */
(async()=>{
  await ensureDefaultMembers();
})();
</script>

</body>
</html>

